<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.tree.clouds.notification.mapper.ReportRecordMapper">

    <!-- 通用查询映射结果 -->
    <resultMap id="BaseResultMap" type="com.tree.clouds.notification.model.entity.ReportRecord">
        <id column="record_id" property="recordId"/>
        <result column="month_Id" property="monthId"/>
        <result column="examine_status" property="examineStatus"/>
        <result column="create_user" property="createUser"/>
        <result column="create_time" property="createTime"/>
        <result column="update_user" property="updateUser"/>
        <result column="update_time" property="updateTime"/>
        <result column="del" property="del"/>
    </resultMap>

    <!-- 通用查询结果列 -->
    <sql id="Base_Column_List">
        record_id, report_id, examine_status, create_user, create_time, update_user, update_time, del
    </sql>
    <select id="getHistoryRecord" resultType="com.tree.clouds.notification.model.entity.ReportRecord">
        select b.name as create_user, a.* from report_record a left join user b on a.create_user=b.user_id
        where a.month_id=#{monthId} order by CREATE_TIME DESC
    </select>

</mapper>
